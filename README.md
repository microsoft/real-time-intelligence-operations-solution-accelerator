# Real-Time Intelligence for Operations Solution Accelerator

This solution accelerator provides a complete real-time intelligence platform for manufacturing operations. It analyzes live and historical telemetry data through interactive dashboards, automatically detects anomalies with email alerts, and includes an AI-powered data agent for conversational insights. The architecture and approach can be easily extended to other industries for broad adoption.

**Key use cases include:**

- Real-time dashboard with up-to-date analysis and reporting.
- Anomaly detection and notification.
- Customized data agent answering users' questions with intelligence derived from the data.

<br/>

<div align="center">

[**SOLUTION OVERVIEW**](#solution-overview) \| [**QUICK DEPLOY**](#quick-deploy) \| [**BUSINESS SCENARIO**](#business-use-case) \| [**SUPPORTING DOCUMENTATION**](#supporting-documentation)

</div>
<br/>

<h2><img src="./docs/images/readme/solution-overview.png" width="48" />
Solution overview
</h2>

This solution accelerator delivers comprehensive asset monitoring, real-time anomaly detection, and automated notifications for manufacturing operations. 

### Solution architecture

Below diagram illustrates the solution architecture. Synthetic telemetry data is generated by the `Telemetry Data Simulator`. The architecture easily adapts to other industries by connecting your own data sources to `Azure Event Hub` and customizing the dashboards and queries. For technical details, see the [Solution Architecture Overview](./docs/TechnicalArchitecture.md).

| ![image](./docs/images/readme/solution-architecture.png) |
| -------------------------------------------------------- |
|                                                          |

### How to customize
If you'd like to customize the solution accelerator, here are some common areas to start: 

- Data generation and collection: You can customize the data simulator to generate data that is closely aligned with your own industry or your own company.
- Update the KQL queries for the tiles in Real-Time Intelligence dashboard.
- Update the Activator rules to meet your business needs.
- Update the instructions to the Fabric Data Agent to align with your own business goals and data insights.

<br/>

### Additional resources

[What's New in Microsoft Fabric](https://learn.microsoft.com/en-us/fabric/fundamentals/whats-new)

[Microsoft Fabric Blog](https://blog.fabric.microsoft.com/en-us/blog)

[What Is Real-Time Intelligence in Microsoft Fabric? ](https://learn.microsoft.com/en-us/fabric/real-time-intelligence/overview)

[Fabric data agent creation](https://learn.microsoft.com/en-us/fabric/data-science/concept-data-agent)

<br/>

### Key features
<details>
  <summary>Click to learn more about the key features this solution enables</summary> 

  - **Fabric Data Ingestion Program and Real-Time Event Simulator** <br/>One-time batch historical data simulator and real-time telemetry data simulator are provided. For more details, please refer to [Fabric Data Ingestion Guide](./docs/FabricDataIngestion.md) and [Event Simulator Guide](./docs/EventSimulatorGuide.md).

  - **Real-Time Intelligence Operations Dashboard** <br/>Real-Time Intelligence Operations Dashboard provides an overview of how manufacturing assets are performing, and shows individual sensor data trends. For details, please refer to [Real-Time Intelligence Dashboard Guide](./docs/RealTimeIntelligenceDashboardGuide.md).

  - **Fabric EventHouse with Customized Fabric Data Agent**

    Manufacturing telemetry data is hosted in Fabric EventHouse. You can use conversational interface powered by Fabric Data Agent for live operational queries. For details, please refer to [Fabric Data Agent Guide](./docs/FabricDataAgentGuide.md).

  - **Anomaly Detection and Alerts through Fabric Activator** <br/>Microsoft Activator is configured with anomaly detection rules that trigger Outlook email notifications when an anomaly occurs. For more details, please refer to [Activator Guide](./docs/ActivatorGuide.md).

  - **Useful Data Analysis and Performance Metrics KQL Code** <br/>Reusable KQL code is provided to get you started quickly. For details, please refer to [Data Analysis KQL Guide](./src/kql/data_analysis/data_analysis_guide.md) and [Performance Metrics KQL Queryset Guide](./src/kql/kql_queryset/kql_queryset_guide.md). 

  - **Demonstrator's Guide** <br/> After successful deployment of the solution accelerator, you or your colleague who has required access can demonstrate this solution by following the steps outlined in the [Demonstrator's Guide](./docs/DemonstratorGuide.md).

</details>

<br /><br />

<h2><img src="./docs/images/readme/quick-deploy.png" width="48" />
Quick deploy
</h2>

### How to install or deploy

Follow these steps to deploy the solution to your own Azure subscription:

| [![GitHub Codespaces](https://img.shields.io/badge/GitHub_Codespaces-Open-grey?style=flat&labelColor=grey&message=Open&color=blue&logo=github)](https://codespaces.new/microsoft/real-time-intelligence-operations-solution-accelerator) | [![Visual Studio Code Dev Containers](https://img.shields.io/badge/Visual_Studio_Code_Dev_Container-Open-gray?style=flat&labelColor=grey&message=Open&color=blue)](https://vscode.dev/redirect?url=vscode://ms-vscode-remote.remote-containers/cloneInVolume?url=https://github.com/microsoft/real-time-intelligence-operations-solution-accelerator) | [![Visual Studio Code Web](https://img.shields.io/badge/Visual_Studio_Code_Web-Open-gray?style=flat&labelColor=grey&message=Open&color=blue)](https://vscode.dev/github/microsoft/real-time-intelligence-operations-solution-accelerator) | [![Azure Cloud Shell](https://img.shields.io/badge/Azure_Cloud_Shell-Open-grey?style=flat&labelColor=grey&message=Open&color=blue)](https://portal.azure.com/#cloudshell/) |
|---|---|---|---|

**One-command deployment** - Deploy everything with [Azure Developer CLI](https://learn.microsoft.com/azure/developer/azure-developer-cli/install-azd) and [Azure CLI](https://learn.microsoft.com/cli/azure/install-azure-cli) (check [prerquisites](./docs/DeploymentGuide.md#prerequisites)):

```bash
# Clone and navigate to repository
git clone https://github.com/microsoft/real-time-intelligence-operations-solution-accelerator.git
cd real-time-intelligence-operations-solution-accelerator

# Authenticate (required)
azd auth login # Required to deploy with azd up
az login # Required to use the Azure CLI commands that connect Azure resources to Fabric workspace

# Recommended: set email to receive alerts
azd env set FABRIC_ACTIVATOR_ALERTS_EMAIL "myteam@company.com"


# Optional: Customize resource names
azd env set FABRIC_WORKSPACE_NAME "My RTI Workspace"
azd env set FABRIC_WORKSPACE_ADMINISTRATORS "user@company.com,12345678-1234-abcd-1234-123456789abc" # comma-separated
azd env set FABRIC_EVENTHOUSE_NAME "my_custom_eventhouse"
azd env set FABRIC_EVENTHOUSE_DATABASE_NAME "my_custom_kql_db"
azd env set FABRIC_EVENT_HUB_CONNECTION_NAME "my_eventhub_connection"
azd env set FABRIC_RTIDASHBOARD_NAME "My Custom Dashboard"
azd env set FABRIC_EVENTSTREAM_NAME "my_custom_eventstream"
azd env set FABRIC_ACTIVATOR_NAME "my_custom_activator"

# Deploy everything
azd up
```
<br/>

Check more deployment aspects in our [deployment guide](./docs/DeploymentGuide.md):

| Topic | Description |
|---|---|
| [**Prerequisites**](./docs/DeploymentGuide.md#prerequisites) | Required Azure permissions, API access, and software installations (Python, Azure CLI, azd) |
| [**Event Simulation**](./docs/DeploymentGuide.md#start-event-simulation) | Once deployed, generate real-time telemetry data and test anomaly detection with the event simulator tool |
| [**Deployment validation**](./docs/DeploymentGuide.md#deployment-results) | Once deployed, verify Azure infrastructure, Fabric workspace components, and real-time data flow |
| [**Deployment overview**](./docs/DeploymentGuide.md#deployment-overview) | Two-phase deployment process: Azure infrastructure provisioning and Fabric workspace setup |
| [**Advanced configuration**](./docs/DeploymentGuide.md#advanced-configuration-options) | Customize workspace names, component names, email alerts, and capacity deployment options |
| [**Alternative deployment options**](./docs/DeploymentGuide.md#deployment-options) | Deploy locally, Azure Cloud Shell, GitHub Codespaces, VS Code Dev Container or GitHub Actions|
| [**Limitations**](./docs/DeploymentGuide.md#known-limitations) | See identified limitations of the solution |
| [**Cleanup**](./docs/DeploymentGuide.md#environment-cleanup) | Remove all deployed resources and clean up your environment with `azd down` |

### Prerequisites and costs
Microsoft Fabric Capacity is enabled for your organization. Please refer to [Enable Microsoft Fabric for your organization](https://learn.microsoft.com/en-us/fabric/admin/fabric-switch) for more information. 

To deploy this solution accelerator, ensure you have access to an [Azure subscription](https://azure.microsoft.com/free/) with the necessary permissions to create **resource groups, resources, app registrations, and assign roles at the resource group level**. This should include Contributor role at the subscription level and Role Based Access Control role on the subscription and/or resource group level. Follow the steps in [Azure Account Set Up](./docs/AzureAccountSetUp.md).

Licensing and cost for establishing Fabric can be found at  [Microsoft Fabric concepts and licenses](https://learn.microsoft.com/en-us/fabric/enterprise/licenses#capacity) and [Microsoft Fabric Pricing](https://azure.microsoft.com/en-us/pricing/details/microsoft-fabric/).

Consumption model and pricing information for Azure Databricks can be found at [Serverless DBU consumption by SKU - Azure Databricks](https://learn.microsoft.com/en-us/azure/databricks/resources/pricing).

_Note: This is not meant to outline all costs as selected SKUs, scaled use, customizations, and integrations into your own tenant can affect the total consumption of this sample solution. The sample pricing sheet is meant to give you a starting point to customize the estimate for your specific needs._

<br/>

| Product | Description | Cost |
|---|---|---|
| [Microsoft Fabric](https://learn.microsoft.com/en-us/fabric) | Core Medallion Architecture in Microsoft Fabric, and Unified Data Platform for integration with other platforms such as Azure Databricks and Snowflakes. | [Pricing](https://learn.microsoft.com/en-us/fabric/enterprise/buy-subscription#prerequisites) |

<br/>

>⚠️ **Important:** To avoid unnecessary costs, remember to take down your app if it's no longer in use,
either by deleting the resource group in the Portal or running `azd down`.

<br /><br />

<h2><img src="./docs/images/readme/business-scenario.png" width="48" />
Business use case
</h2>
Use cases can be summarized as below:

- For manufacturing plants, the plant manager or other business stakeholders can use the Fabric Data Agent to get business and operations intelligence quickly without the need to create query code. For details, please refer to [Fabric Data Agent Guide](./docs/FabricDataAgentGuide.md).

- For manufacturing plants, the designated operations team receives email notification when an anomaly occurs. The solution can also be configured to send anomaly notifications to a Teams Channel. For rule configuration options (Email or Teams), please refer to [Activator Guide](./docs/ActivatorGuide.md).

- Plant manager uses real-time dashboard to analyze manufacturing plant asset performance, key telemetry data over time.

  The image below shows the first page of the real-time intelligence operations dashboard, which displays sensor status, quality metrics, and individual sensor data trends. The second page shows additional information such as daily anomaly rate by asset, asset maintenance status, and fault correlations. For more details, please refer to [Real-Time Intelligence Operations Dashboard Guide](./docs/RealTimeIntelligenceDashboardGuide.md). 

| ![image](./docs/images/readme/rti-dashboard.png) |
| ------------------------------------------------ |

<br/> 

⚠️ The sample data used in this repository is synthetic and generated using Python Programs. The data is intended for use as sample data only.

### Business value
<details>
  <summary>Click to learn more about what value this solution provides</summary>

  - **The solution provides multiple business functions with a simple architecture** <br/>
    The deployed solution provides real-time telemetry data monitoring, analysis, summarization, graphical reports, anomaly detection and notifications with a quick to deploy, secure, and simple architecture.

  - **A Fabric Data Agent getting quick business intelligence without programming effort** <br/>
    The Fabric Data Agent can be quickly configured with instructions delivered in this solution accelerator, providing quick and accurate insights from data effortlessly. No programming skills are necessary.

  - **Real-Time Intelligence for Operations Dashboard**<br/>
    The deployed solution accelerator provides a working architecture with best practices, security, components integration, and real-time intelligence for operations dashboard.

  - **Configurable Activator providing anomaly detection and notifications** <br/>
    The deployed and configurable Activator provides real-time anomaly detection and alert notifications out of the box. The rules are easily configurable.

  - **Reusable and updatable real-time event simulator and batch data update program** <br/>
    Real-time telemetry data simulator and batch data ingestion / update program are provided to help to bring the solution to simulate a real-time environment quickly. 

</details>

<br /><br />

<h2><img src="./docs/images/readme/supporting-documentation.png" width="48" />
Supporting documentation
</h2>

### Security guidelines

This template uses Azure Key Vault to store all connections to communicate between resources.

This template also uses [Managed Identity](https://learn.microsoft.com/entra/identity/managed-identities-azure-resources/overview) for local development and deployment.

To ensure continued best practices in your own repository, we recommend that anyone creating solutions based on our templates ensure that the [GitHub secret scanning](https://docs.github.com/code-security/secret-scanning/about-secret-scanning) setting is enabled.

You may want to consider additional security measures, such as:

* Enabling Microsoft Defender for Cloud to [secure your Azure resources](https://learn.microsoft.com/en-us/azure/defender-for-cloud/).
* Protecting the Azure Container Apps instance with a [firewall](https://learn.microsoft.com/azure/container-apps/waf-app-gateway) and/or [Virtual Network](https://learn.microsoft.com/azure/container-apps/networking?tabs=workload-profiles-env%2Cazure-cli).

<br/>

### Frequently asked questions

[Click here](./docs/FAQs.md) to learn more about common questions about this solution.

<br/>

### Cross references
Check out similar solution accelerators

| Solution Accelerator | Description |
|---|---|
| [Unified Data Foundation with Microsoft Fabric](https://github.com/microsoft/unified-data-foundation-with-fabric-solution-accelerator) | Unified Data Foundation with Microsoft Fabric with Options to Integrate with Azure Databricks and Microsoft Purview. |
| [Agentic applications for unified data foundation](https://github.com/microsoft/agentic-applications-for-unified-data-foundation-solution-accelerator) | Agentic AI application that provides natural language query of the data using unified data foundation. Description of solution accelerator. |

<br/>   


## Provide feedback  (To update the link)

Have questions, find a bug, or want to request a feature? [Submit a new issue](https://github.com/microsoft/real-time-intelligence-operations-solution-accelerator/issues) on this repo and we'll connect.

<br/>

## Responsible AI Transparency FAQ (To update the Transparency FAQs)
Please refer to [Transparency FAQ](./TRANSPARENCY_FAQ.md) for responsible AI transparency details of this solution accelerator.

<br/>

## Disclaimers

To the extent that the Software includes components or code used in or derived from Microsoft products or services, including without limitation Microsoft Azure Services (collectively, “Microsoft Products and Services”), you must also comply with the Product Terms applicable to such Microsoft Products and Services. You acknowledge and agree that the license governing the Software does not grant you a license or other right to use Microsoft Products and Services. Nothing in the license or this ReadMe file will serve to supersede, amend, terminate or modify any terms in the Product Terms for any Microsoft Products and Services. 

You must also comply with all domestic and international export laws and regulations that apply to the Software, which include restrictions on destinations, end users, and end use. For further information on export restrictions, visit https://aka.ms/exporting. 

You acknowledge that the Software and Microsoft Products and Services (1) are not designed, intended or made available as a medical device(s), and (2) are not designed or intended to be a substitute for professional medical advice, diagnosis, treatment, or judgment and should not be used to replace or as a substitute for professional medical advice, diagnosis, treatment, or judgment. Customer is solely responsible for displaying and/or obtaining appropriate consents, warnings, disclaimers, and acknowledgements to end users of Customer’s implementation of the Online Services. 

You acknowledge the Software is not subject to SOC 1 and SOC 2 compliance audits. No Microsoft technology, nor any of its component technologies, including the Software, is intended or made available as a substitute for the professional advice, opinion, or judgement of a certified financial services professional. Do not use the Software to replace, substitute, or provide professional financial advice or judgment.  

BY ACCESSING OR USING THE SOFTWARE, YOU ACKNOWLEDGE THAT THE SOFTWARE IS NOT DESIGNED OR INTENDED TO SUPPORT ANY USE IN WHICH A SERVICE INTERRUPTION, DEFECT, ERROR, OR OTHER FAILURE OF THE SOFTWARE COULD RESULT IN THE DEATH OR SERIOUS BODILY INJURY OF ANY PERSON OR IN PHYSICAL OR ENVIRONMENTAL DAMAGE (COLLECTIVELY, “HIGH-RISK USE”), AND THAT YOU WILL ENSURE THAT, IN THE EVENT OF ANY INTERRUPTION, DEFECT, ERROR, OR OTHER FAILURE OF THE SOFTWARE, THE SAFETY OF PEOPLE, PROPERTY, AND THE ENVIRONMENT ARE NOT REDUCED BELOW A LEVEL THAT IS REASONABLY, APPROPRIATE, AND LEGAL, WHETHER IN GENERAL OR IN A SPECIFIC INDUSTRY. BY ACCESSING THE SOFTWARE, YOU FURTHER ACKNOWLEDGE THAT YOUR HIGH-RISK USE OF THE SOFTWARE IS AT YOUR OWN RISK.  
